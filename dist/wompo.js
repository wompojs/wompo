const ce=!1;let S=null,N=0;const g="$wc$",v="wc-wc",j=/<\/?$/g,W=/\s+([^\s]*?)=(["'][^"']*?)?$/g,U=/(<([a-z]*-[a-z]*).*?)\/?>/gs,O=/<(?<tag>script|style|textarea|title])(?!.*?<\/\k<tag>)/gi,q=/^(?:script|style|textarea|title)$/i,P=0,w=1,M=2,k=typeof window>"u"||typeof document>"u",I=k?{createTreeWalker(){}}:document,E=I.createTreeWalker(I,129),Z=["class","style","id","title"],_={},D={};export const registerHydration=(n={})=>{if(!(k||!n))for(const e of Object.keys(n)){const o=n[e]??[];D[e]=o.map(i=>i&&{...i})}};const B=(n,e)=>{const o=D[n];if(!o)return;const i=o[e];return o[e]=void 0,o.every(t=>t===void 0)&&delete D[n],i?{...i}:void 0};export const pushRenderingContext=n=>{const e={component:S,hookIndex:N};return S=n,N=0,e},popRenderingContext=n=>{S=n.component,N=n.hookIndex};class K{constructor(e,o){this.template=e,this.dependencies=o}clone(){const e=this.template.content,o=this.dependencies,i=document.importNode(e,!0);E.currentNode=i;let t=E.nextNode(),r=0,a=0,s=o[0];const c=[];for(;s!==void 0;){if(r===s.index){let l;const d=s.type;d===P?l=new $(t,t.nextSibling):d===w?l=new G(t,s):d===M&&(l=new Y(t)),c.push(l),s=o[++a]}r!==s?.index&&(t=E.nextNode(),r++)}return E.currentNode=document,[i,c]}}class V{constructor(e,o,i){this.values=e.values,this.renderHtml=e,this.parts=e.parts,this.template=o,this.index=i}}class ${constructor(e,o){this.isNode=!0;this.isAttr=!1;this.isTag=!1;this.startNode=e,this.endNode=o}clearValue(){let e=this.startNode.nextSibling;for(;e&&e!==this.endNode;)e.remove(),e=this.startNode.nextSibling}dispose(){this.clearValue(),this.startNode.remove(),this.endNode&&this.endNode.remove()}}class G{constructor(e,o){this.isNode=!1;this.isAttr=!0;this.isTag=!1;this.__eventInitialized=!1;this.node=e,this.name=o.name,this.attrStructure=o.attrDynamics}updateValue(e){if(this.name==="ref"&&e.__wcRef){e.current=this.node;return}const o=this.node._$wompo;o&&this.node.updateProp(this.name,e);const i=e!==Object(e);if(e===!1||e===null||e===void 0)this.node.removeAttribute(this.name);else if(i&&(!this.name.match(/[A-Z]/)||this.node.nodeName==="svg")&&this.name!=="title")this.node.setAttribute(this.name,e);else if(this.name==="style"){let t="";const r=Object.keys(e);for(const a of r){let s=e[a],c=a.replace(/[A-Z]/g,l=>"-"+l.toLowerCase());typeof s=="number"&&(s=`${s}px`),s!=null&&s!==!1&&s!==""&&(t+=`${c}:${s};`)}this.node.setAttribute(this.name,t)}this.name==="title"&&o&&this.node.removeAttribute(this.name)}set callback(e){if(!this.__eventInitialized){const o=this.name.substring(1);["scroll","wheel","touchstart","touchmove","touchend"].includes(o)?this.node.addEventListener(o,this.__listener.bind(this),{passive:!0}):this.node.addEventListener(o,this.__listener.bind(this)),this.__eventInitialized=!0}this.__callback=e}__listener(e){this.__callback&&this.__callback(e)}}class Y{constructor(e){this.isNode=!1;this.isAttr=!1;this.isTag=!0;this.node=e}}class J{constructor(e){this._$wompoChildren=!0;this.nodes=e}}class Q{constructor(e,o,i){this.isArrayDependency=!0;this.dynamics=[],this.__oldValues=[],this.__parentDependency=o,this.__owner=i,o.startNode.after(document.createComment("?wc-end")),this.addDependenciesFrom(o.startNode,e),this.__oldPureValues=e}addDependenciesFrom(e,o){let i=e;for(let t=0;t<o.length;t++){const r=o[t];i.after(document.createTextNode("")),i.after(document.createTextNode(""));const a=new $(i.nextSibling,i.nextSibling.nextSibling);i=i.nextSibling.nextSibling,this.dynamics.push(a),this.__oldValues.push(C([a],[r],[],this.__owner)[0])}}handleArray(e){const o=this.__oldValues.length;let i=e.length-o;if(i<0)for(;i;){const t=this.dynamics.pop();this.__oldValues.pop(),t.dispose(),i++}for(let t=0;t<this.dynamics.length;t++){const r=e[t],a=this.dynamics[t],s=this.__oldValues[t];this.__oldValues[t]=C([a],[r],[s],this.__owner)[0]}if(i>0){let t=this.dynamics[this.dynamics.length-1]?.endNode;t||(t=this.__parentDependency.startNode);for(let r=0;r<i;r++){const a=e[o+r];t.after(document.createTextNode("")),t.after(document.createTextNode(""));const s=new $(t.nextSibling,t.nextSibling.nextSibling);t=t.nextSibling.nextSibling,this.dynamics.push(s),this.__oldValues.push(C([s],[a],[],this.__owner))}}return this.__oldPureValues=e,this}checkUpdates(e){return e===this.__oldPureValues?this:this.handleArray(e)}}const X=(n,e)=>{const{css:o}=n,{shadow:i,name:t,cssModule:r}=e,a=t,s={};let c=o;return r&&(o.includes(":host")||(c=`${i?":host":a} {display:block;} ${o}`),i||(c=c.replace(/:host/g,a)),c=c.replace(/\.(?!\d)([_a-zA-Z0-9-]+)/gm,(l,d)=>{const p=`${a}__${d}`;return s[d]=p,`.${p}`})),[c,s]},ee=n=>{let e="";const o=[],i=n.length-1;let t="",r="";for(let a=0;a<i;a++){let s=n[a];if(t&&s.includes(t)&&(t=""),r&&new RegExp(`</${r}>`)&&(r=""),t||r)e+=s+g;else{W.lastIndex=0;const c=W.exec(s);if(c){const[l,d]=c,p=l[l.length-1],u=l.lastIndexOf('"')>l.lastIndexOf("'")?'"':"'";if(!t){t=p==="="?"":u,s=s.replace(/=([^=]*)$/g,f=>`${g}=${f.substring(1)}`);let m=s;t?m+=g:m+='"0"',e+=m}o.push(d)}else{if(s.match(j)){e+=s+v;continue}O.lastIndex=0;const l=O.exec(s);l?(r=l[1],e+=s+g):e+=s+`<?${g}>`}}}return e+=n[n.length-1],e=e.replace(U,(a,s,c)=>a.endsWith("/>")?`${s}></${c}>`:a),e=e.replace(/<[a-z]*-[a-z]*\s?.*?>/gms,a=>a.replace(/(?<=\s)([a-z]+([A-Z][a-z]*)+)[=\s]/gms,s=>s.replace(/[A-Z]/g,c=>`-${c.toLowerCase()}`))),[e,o]},te=(n,e,o)=>{const i=[];E.currentNode=n.content;let t,r=0,a=0;const s=e.length;for(;(t=E.nextNode())!==null&&i.length<s;){if(t.nodeType===1){if(t.nodeName===v.toUpperCase()){const c={type:M,index:a};i.push(c)}if(t.hasAttributes()){const c=t.getAttributeNames();for(const l of c)if(l.endsWith(g)){const d=o[r++],p=t.getAttribute(l);if(p!=="0"){const u=p.split(g);for(let m=0;m<u.length-1;m++){const f={type:w,index:a,attrDynamics:p,name:d};i.push(f)}}else{const u={type:w,index:a,name:d};i.push(u)}t.removeAttribute(l)}}if(q.test(t.tagName)){const c=t.textContent.split(g),l=c.length-1;if(l>0){t.textContent="";for(let d=0;d<l;d++)t.append(c[d],document.createComment("")),E.nextNode(),i.push({type:P,index:++a});t.append(c[l],document.createComment(""))}}}else t.nodeType===8&&t.data===`?${g}`&&i.push({type:P,index:a});a++}return i},R=n=>{const[e,o]=ee(n.parts),i=document.createElement("template");i.innerHTML=e;const t=te(i,n.parts,o);return new K(i,t)},oe=(n,e)=>{if(!n||!e)return!1;const o=n.parts,i=e.parts;if(o.length!==i?.length)return!1;const t=n.values,r=e.values;for(let a=0;a<o.length;a++)if(o[a]!==i[a]||t[a]?._$wompoF&&(!r[a]?._$wompoF||t[a].componentName!==r[a].componentName))return!1;return!0},ne=(n,e,o)=>{const i=n!==e,t=!!o.attrStructure,a=n?._$wompoChildren&&o.startNode.nextSibling!==n.nodes[0],s=n===e&&o.isTag&&o.node.nodeName===v.toUpperCase();return i||t||a||s},L=(n,e,o,i,t)=>{const r=e.node;let a=null;const s=n._$wompoF,c=s?n.componentName:n;if(r.nodeName!==c.toUpperCase()){const l=r.getAttributeNames();if(s){const u={};for(const f of l){const h=r.getAttribute(f);let y=f;y.includes("-")&&(y=y.replace(/-(.)/g,(x,b)=>b.toUpperCase())),u[y]=h===""?!0:h}a=new n.class,a._$initialProps=u,a.props=u;const m=r.childNodes;for(;m.length;)a.appendChild(m[0])}else{a=document.createElement(c);for(const u of l)a.setAttribute(u,r.getAttribute(u))}let d=o,p=i[d];for(;p?.node===r;)p.node=a,d===o?(d++,p=i[d]):(p?.name&&p?.name!=="ref"&&(a._$initialProps[p.name]=t[d],a.props[p.name]=t[d]),d++,p=i[d]);return r.replaceWith(a),a}return r},z=(n,e)=>{const o=document.createTextNode(""),i=document.createTextNode("");n.appendChild(o),o.after(i);const t=new $(o,i);return e._$portals.push(t),t},C=(n,e,o,i)=>{const t=[...e];for(let r=0;r<n.length;r++){const a=n[r],s=t[r],c=o[r];if(s?.__wcRef&&a.isAttr&&a.name==="ref"&&(s.current=a.node),!!ne(s,c,a)){if(a.isNode){if(s===!1||s===void 0||s===null){a.clearValue();continue}if(s?._$wompoHtml){const u=s,m=c;if(m===void 0||!oe(u,m?.renderHtml)){const h=R(u).clone(),[y,x]=h;t[r]=new V(u,h,r),t[r].values=C(x,u.values,[],i);let b=a;m?.renderHtml?._$portal?b.dispose():b.clearValue(),u._$portal&&(b=z(u._$portal,i),n[r]=b);let H=b.startNode;for(;y.childNodes.length&&H;)H.after(y.childNodes[0]),H=H.nextSibling}else if(m.template){const[f,h]=c.template,y=C(h,u.values,m.values,i);u._$portal&&i._$portals.push(a),m.values=y,t[r]=c}else{const h=R(u).clone();t[r]=new V(u,h,r);const y=t[r],x=C(y.template[1],u.values,[],i);if(y.values=x,u._$portal){const b=z(u._$portal,i);n[r]=b}}continue}const l=s!==Object(s),d=c!==Object(c)&&c!==void 0,p=a.startNode;if(l)d?p.nextSibling?p.nextSibling.textContent=s:p.after(s):(a.clearValue(),p.after(s));else{let u=p.nextSibling,m=0,f=0;if(s._$wompoChildren){c&&!c?._$wompoChildren&&a.clearValue();const h=s.nodes;for(;f<h.length;){(!u||f===0)&&(u=p);const y=h[m];m++,u.after(y),u=u.nextSibling,f++}}else Array.isArray(s)&&(c?.isArrayDependency?t[r]=c.checkUpdates(s):(a.clearValue(),t[r]=new Q(s,a,i)))}}else if(a.isAttr)if(a.name.startsWith("@"))a.callback=s;else{const d=a.attrStructure;if(d){const p=d.split(g);let u=s;for(let m=0;m<p.length-1;m++){const f=u!=null&&u!==!1?u:"";p[m]=`${p[m]}${f}`,r++,u=t[r]}r--,a.updateValue(p.join("").trim())}else a.updateValue(s)}else if(a.isTag)if(s._$wompoLazy){const d=a.node,p=T(d);p&&(p.addSuspense?p.addSuspense(d):(p.loadingComponents=new Set,p.loadingComponents.add(d)),d.suspense=p),s().then(u=>{const m=L(u,a,r,n,e);p&&p.removeSuspense(d,m)});continue}else L(s,a,r,n,e)}}return t},se=(n,e)=>{const{generatedCSS:o,styles:i}=n.options,t=new CSSStyleSheet;t.replaceSync(o);const r=class extends HTMLElement{constructor(){super();this._$wompo=!0;this.props={};this.hooks=[];this._$measurePerf=!1;this._$initialProps={};this._$usesContext=!1;this._$hasBeenMoved=!1;this._$layoutEffects=[];this._$effects=[];this._$asyncCalls=[];this._$suspendedAsyncCalls=[];this.__updating=!1;this.__oldValues=[];this._$portals=[];this.__isInitializing=!0;this.__connected=!1;this.__disconnected=!1;this.__isInDOM=!1}static{this._$wompo=!0}static{this.componentName=e.name}static _$getOrCreateTemplate(s){return this._$cachedTemplate||(this._$cachedTemplate=R(s)),this._$cachedTemplate}connectedCallback(){if(this.__disconnected&&this.isConnected){this.__disconnected=!1;for(const s of this.hooks)s?.callback&&Promise.resolve().then(()=>{s.callback()});if(this._$suspendedAsyncCalls.length){const s=T(this),c=[];for(const l of this._$suspendedAsyncCalls)l.activateSuspense&&s?.addSuspense(this),c.push(l.asyncCallback().then(d=>{l.value=d}));this._$suspendedAsyncCalls=[],Promise.all(c).then(()=>{this.requestRender(),s?.removeSuspense(this)})}this._$hasBeenMoved=!0,this._$usesContext&&this.requestRender()}this.__isInDOM=!0,!this.__connected&&this.isConnected&&this.__initElement()}disconnectedCallback(){this.__connected&&(this.__isInDOM=!1,Promise.resolve().then(()=>{if(this.__isInDOM)this._$hasBeenMoved=!0,this._$usesContext&&this.requestRender();else{this.onDisconnected(),this.__disconnected=!0;for(const s of this.hooks)s?.cleanupFunction&&s.cleanupFunction();for(const s of this._$portals)s.dispose()}}))}adoptedCallback(){Object.setPrototypeOf(this,r.prototype);const s=document.createElement("style");s.textContent=o;const c=this.nodeName.toLowerCase();if(_[c]||(_[c]=[]),e.shadow)_[c].includes(this.__ROOT)||(_[c].push(this.__ROOT),this.__ROOT.appendChild(s));else{const l=this.getRootNode();_[c].includes(l)||(_[c].push(l),l.body?l.body.appendChild(s):l.appendChild(s))}}onDisconnected(){}__initElement(){this.__ROOT=this;const s=this.getAttribute("wompo-hydrate");if(s!==null){const f=Number(s),h=B(e.name,f);h&&(this._$initialProps={...h,...this._$initialProps}),this.removeAttribute("wompo-hydrate")}this.props={...this.props,...this._$initialProps,styles:i};const c=this.getAttributeNames();for(const f of c){let h=f;if(h.includes("-")&&(h=h.replace(/-(.)/g,(y,x)=>x.toUpperCase())),!this.props.hasOwnProperty(h)){const y=this.getAttribute(f);this.props[h]=y===""?!0:y}}const l=Object.keys(this._$initialProps);for(const f of l){const h=this._$initialProps[f];h!==Object(h)&&(h||h===0)&&f!=="title"&&this.setAttribute(f.replace(/[A-Z]/g,y=>`-${y.toLowerCase()}`),h.toString())}const d=this.__ROOT.childNodes,p=[];for(;d.length;)p.push(d[0]),d[0].remove();const u=new J(p);this.props.children=u,e.shadow&&!this.shadowRoot&&(this.__ROOT=this.attachShadow({mode:"open"}));const m=this.nodeName.toLowerCase();if(_[m]||(_[m]=[]),e.shadow)_[m].includes(this.__ROOT)||(_[m].push(this.__ROOT),this.__ROOT.adoptedStyleSheets=[t]);else{const f=this.getRootNode();_[m].includes(f)||(_[m].push(f),f.adoptedStyleSheets.push(t))}this.__render(),this.__isInitializing=!1,this.__connected=!0,new MutationObserver(f=>{this.__updating||f.forEach(h=>{if(!Z.includes(h.attributeName)){let y=h.attributeName;y.includes("-")&&(y=y.replace(/-(.)/g,(b,A)=>A.toUpperCase()));const x=this.getAttribute(h.attributeName);this.props[y]!=x&&this.updateProp(y,this.getAttribute(h.attributeName))}})}).observe(this,{attributes:!0})}__callComponent(){S=this,N=0;const s=n.call(this,this.props);let c=s;return(typeof s=="string"||s instanceof HTMLElement)&&(c=html`${s}`),c}__render(){try{const s=this.__callComponent();if(s==null){this.__dynamics=[],this.__oldValues=[],this.remove();return}const c=this.constructor;if(this._$portals=[],this.__isInitializing){const l=c._$getOrCreateTemplate(s),[d,p]=l.clone();this.__dynamics=p;const u=C(this.__dynamics,s.values,this.__oldValues,this);for(this.__oldValues=u,this.__isInitializing||(this.__ROOT.innerHTML="");d.childNodes.length;)this.__ROOT.appendChild(d.childNodes[0])}else{const l=C(this.__dynamics,s.values,this.__oldValues,this);this.__oldValues=l}for(const l of this._$layoutEffects)l.cleanupFunction=l.callback();this._$layoutEffects=[],Promise.resolve().then(()=>{if(this.isConnected){for(const l of this._$effects)l.cleanupFunction=l.callback();if(this._$effects=[],this._$asyncCalls.length){const l=[],d=T(this);for(const p of this._$asyncCalls){p.activateSuspense&&d?.addSuspense(this);const u=p.asyncCallback().then(m=>{p.value=m}).catch(m=>console.error(m));l.push(u)}Promise.all(l).then(()=>{d?.removeSuspense(this),this.requestRender()})}this._$asyncCalls=[]}else this._$suspendedAsyncCalls=this._$asyncCalls})}catch(s){console.error(s)}}requestRender(){this.__updating||(this.__updating=!0,Promise.resolve().then(()=>{this.__render(),this.__updating=!1,this._$hasBeenMoved=!1}))}updateProp(s,c){if(this.props[s]!==c){const l=c!==Object(c),d=s.replace(/[A-Z]/g,p=>"-"+p.toLowerCase());l&&c!==void 0&&c!==null&&c!==!1?this.setAttribute(d,c):this.removeAttribute(d),this.props[s]=c,this.__isInitializing||this.requestRender()}}};return r};export const useHook=()=>{const o=[S,N];return N++,o},useState=n=>{const[e,o]=useHook();if(!e)return typeof n=="function"?[n(),()=>{}]:[n,()=>{}];if(!e.hooks.hasOwnProperty(o)){const t=o;e.hooks[t]=[typeof n=="function"?n():n,r=>{let a=r;const s=e.hooks[t];typeof r=="function"&&(a=r(s[0])),a!==s[0]&&(s[0]=a,e.requestRender())}]}return e.hooks[o]},useEffect=(n,e=null)=>{const[o,i]=useHook();if(!(!o||k))if(o.hooks.hasOwnProperty(i)){const t=o.hooks[i];if(e!==null){for(let r=0;r<e.length;r++)if(t.dependencies[r]!==e[r]){typeof t.cleanupFunction=="function"&&t.cleanupFunction(),t.dependencies=e,t.callback=n,o._$effects.push(t);break}}else t.callback=n,o._$effects.push(t)}else{const t={dependencies:e,callback:n,cleanupFunction:null};o.hooks[i]=t,o._$effects.push(t)}},useLayoutEffect=(n,e=null)=>{const[o,i]=useHook();if(!(!o||k))if(o.hooks.hasOwnProperty(i)){const t=o.hooks[i];if(e!==null){for(let r=0;r<e.length;r++)if(t.dependencies[r]!==e[r]){typeof t.cleanupFunction=="function"&&t.cleanupFunction(),t.dependencies=e,t.callback=n,o._$layoutEffects.push(t);break}}else t.callback=n,o._$layoutEffects.push(t)}else{const t={dependencies:e,callback:n,cleanupFunction:null};o.hooks[i]=t,o._$layoutEffects.push(t)}},useRef=(n=null)=>{const[e,o]=useHook();return e.hooks.hasOwnProperty(o)||(e.hooks[o]={current:n,__wcRef:!0}),e.hooks[o]},useCallback=(n,e=[])=>{const[o,i]=useHook();if(!o.hooks.hasOwnProperty(i))o.hooks[i]={dependencies:e,value:n};else{const r=o.hooks[i];for(let a=0;a<e.length;a++)if(r.dependencies[a]!==e[a]){r.dependencies=e,r.value=n;break}}return o.hooks[i].value};const ie=()=>{let n=0;return()=>{const[e,o]=useHook();return e.hooks.hasOwnProperty(o)||(e.hooks[o]=`:w${n}:`,n++),e.hooks[o]}};export const useId=ie(),useMemo=(n,e)=>{const[o,i]=useHook();if(!o.hooks.hasOwnProperty(i))o.hooks[i]={value:n(),dependencies:e};else{const r=o.hooks[i];for(let a=0;a<e.length;a++)if(r.dependencies[a]!==e[a]){r.dependencies=e,r.value=n();break}}return o.hooks[i].value},useReducer=(n,e)=>{const[o,i]=useHook(),t=i;if(!o.hooks.hasOwnProperty(t)){const s=[e,c=>{const l=o.hooks[t][0],d=n(l,c);let p=d;typeof l=="object"&&!Array.isArray(l)&&l!==null&&(p={...l,...d}),o.hooks[i][0]=p,p!==l&&o.requestRender()}];o.hooks[i]=s}return o.hooks[i]},useExposed=n=>{const e=S;if(!e||k)return;const o=Object.keys(n);for(const i of o)e[i]=n[i]};const F=(n,e,o,i)=>{const[t,r]=n,a=t.hooks[r];a.activateSuspense=i,a.value=null,a.asyncCallback=e,a.dependencies=o,t._$asyncCalls.push(a)};export const useAsync=(n,e,o=!0)=>{const[i,t]=useHook();if(!i||k)return null;if(!i.hooks.hasOwnProperty(t))i.hooks[t]={asyncCallback:n,dependencies:e,value:null,activateSuspense:o},F([i,t],n,e,o);else{const r=i.hooks[t];let a=!1;for(let s=0;s<e.length;s++)if(r.dependencies[s]!==e[s]){a=!0;break}a&&F([i,t],n,e,o)}return i.hooks[t].value},useSelf=()=>S;const ae=()=>{let n=0;return(e,o)=>{const i=o??`wompo-context-provider-${n}`;n++;const t=defineWompo(({children:a,value:s})=>{const l=useRef(new Set);return useEffect(()=>{l.current.forEach(d=>{d.isConnected&&d.requestRender()})},[s]),useExposed({subscribers:l}),html`${a}`},{name:i,cssModule:!1});return{name:i,Provider:t,default:e,subscribers:new Set}}};export const createContext=ae(),useContext=n=>{const[e,o]=useHook();if(!e||k)return n.default;if(!e.hooks.hasOwnProperty(o)||e._$hasBeenMoved){let t=e;const r=n.name.toUpperCase();for(;t&&t.nodeName!==r&&t!==document.body;)t instanceof ShadowRoot?t=t.host:t=t.parentNode;const a=e.hooks[o]?.node;if(t&&t!==document.body){if(t.subscribers.current.add(e),!e._$usesContext){const s=e.onDisconnected;e.onDisconnected=()=>{t.subscribers.current.delete(e),s()}}e._$usesContext=!0}else a?(t=null,a.subscribers.current.delete(e)):e.isConnected&&(console.warn(`The element ${e.tagName} doens't have access to the Context ${n.name}. The default value will be returned instead.`),t=null);e.hooks[o]={node:t}}const i=e.hooks[o].node;return i?i.props.value:n.default};export function html(n,...e){const o=[],i=n.length-1;if(k)o.push(...e);else for(let t=0;t<i;t++)n[t].endsWith("</")||o.push(e[t]);return{parts:n,values:o,_$wompoHtml:!0}}export const wompoDefaultOptions={shadow:!1,name:"",cssModule:!0},registeredComponents={};export function defineWompo(n,e){n.css||(n.css="");const o={...wompoDefaultOptions,...e||{}};if(!o.name){let r=n.name.replace(/.[A-Z]/g,a=>`${a[0]}-${a[1].toLowerCase()}`).toLowerCase();r.includes("-")||(r+="-wompo"),o.name=r}n.componentName=o.name,n._$wompoF=!0;const[i,t]=X(n,o);if(n.css=i,n.options={generatedCSS:i,styles:t,shadow:o.shadow},!k){const r=se(n,o);n.class=r,customElements.define(o.name,r)}return registeredComponents[o.name]=n,n}export const lazy=n=>{let e=null;async function o(){if(!e)try{return e=(await n()).default,e}catch(i){console.error(i)}return e}return o._$wompoLazy=!0,o},unsafelyRenderString=n=>({_$wompoHtml:!0,parts:[n],values:[]}),createPortal=(n,e)=>({...n,_$portal:e});const T=n=>{let e=n;for(;e&&e.nodeName!==Suspense.componentName.toUpperCase();)e.parentNode===null&&e.host?e=e.host:e=e?.parentNode;return e};export function Suspense({children:n,fallback:e}){return this.loadingComponents||(this.loadingComponents=useRef(new Set).current),this.addSuspense=o=>{this.loadingComponents.size||this.requestRender(),this.loadingComponents.add(o)},this.removeSuspense=(o,i=null)=>{if(this.loadingComponents.delete(o),i){for(let t=0;t<n.nodes.length;t++)if(n.nodes[t]===o){n.nodes[t]=i;break}}this.loadingComponents.size||this.requestRender()},this.loadingComponents.size&&e?html`${e}`:html`${n}`}defineWompo(Suspense,{name:"wompo-suspense"});
